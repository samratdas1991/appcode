<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000e81d-5ddb-8000-9c1b-011c48011c48_3543626</versionUuid>
    <interface>
        <name>AS_IO_GRD_manageReferenceTemplateCategoryGrid</name>
        <uuid>_a-0000e3c8-6861-8000-9ba2-011c48011c48_126730</uuid>
        <description>grid to display tasks for each category</description>
        <parentUuid>_a-0000e2bb-4188-8000-9ba2-011c48011c48_25469</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>a!localVariables(
  local!slaRuleTypes: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_39864"(
    typeList: #"_a-0000e471-623a-8000-9bc3-011c48011c48_665203",
    i18nData: ri!i18nData
  ),
  /* Tasks are sorted in parent rules, so no need for sorting here */
  local!pagingInfo: #"SYSTEM_SYSRULES_pagingInfo"(startIndex: 1, batchSize: 25),
  {
    #"SYSTEM_SYSRULES_gridLayout"(
      emptyGridMessage: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
        i18nData: ri!i18nData,
        bundleKey: "AS.CO.AllBundles.plc_NoTasks"
      ),
      headerCells: {
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: ""),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(
          label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.lbl_TaskName"
          )
        ),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(
          label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.lbl_Category"
          )
        ),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(
          label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.lbl_TaskType"
          )
        ),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(
          label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.lbl_Description"
          )
        ),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(
          label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.lbl_Precedents"
          ),
          helpTooltip: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.ins_Precedents"
          )
        ),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(
          label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.lbl_AssignedGroup"
          )
        ),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(
          label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
            i18nData: ri!i18nData,
            bundleKey: "AS.CO.AllBundles.lbl_TaskDueDate"
          )
        ),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(),
        #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "")
      },
      columnConfigs: {
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(width: "ICON"),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 2),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 2),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 2),
        /*Make description and precedents fields larger*/
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 3),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 3),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 2),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 1),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 1),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(weight: 2),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(width: "ICON"),
        #"SYSTEM_SYSRULES_gridLayoutColumnConfig"(width: "ICON")
      },
      rows: {
        #"SYSTEM_SYSRULES_forEach"(
          items: todatasubset(
            arrayToPage: ri!selectedTemplateTasks,
            pagingConfiguration: local!pagingInfo
          ),
          expression: {
            a!localVariables(
              local!trueIndex: local!pagingInfo.startIndex - 1 + fv!index,
              #"SYSTEM_SYSRULES_gridRowLayout"(
                contents: {
                  /*index*/
                  #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74362"(
                    readOnly: true,
                    value: local!trueIndex,
                    align: "CENTER"
                  ),
                  /*name*/
                  #"SYSTEM_SYSRULES_richTextDisplayField"(
                    value: {
                      #"SYSTEM_SYSRULES_richTextIcon"(
                        icon: "exclamation-circle",
                        color: #"_a-0000e62c-7375-8000-9bec-011c48011c48_1924695"(brandingKey: "WarningColor"),
                        caption: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
                          i18nData: ri!i18nData,
                          bundleKey: "AS.CO.AllBundles.ins_TaskDueDateWarning"
                        ),
                        showWhen: #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75636"(
                          #"_a-0000e471-623a-8000-9bc3-011c48011c48_747549"(
                            currentTask: fv!item,
                            allTasks: ri!selectedTemplateTasks
                          )
                        )
                      ),
                      " ",
                      #"SYSTEM_SYSRULES_richTextItem_v1"(text: fv!item.taskRef.taskName)
                    }
                  ),
                  /*Category*/
                  #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73562"(
                    required: true,
                    readOnly: true,
                    value: fv!item.taskRef.taskCategory.categoryName
                  ),
                  /*type*/
                  #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73562"(
                    required: true,
                    readOnly: true,
                    value: #"_a-0000e438-fdf5-8000-9ba8-011c48011c48_21856"(
                      singleData: fv!item.taskRef.taskBehaviorType,
                      labelField: "behaviorDisplayName",
                      i18nData: ri!i18nData
                    )
                  ),
                  /*description*/
                  #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73562"(
                    value: fv!item.taskDesc,
                    validations: #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74104"(
                      value: fv!item.taskDesc,
                      maxLength: #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73500"
                    ),
                    saveInto: ri!selectedTemplateTasks[local!trueIndex].taskDesc
                  ),
                  /*precedents*/
                  if(
                    fv!item.taskRef.taskBehaviorType.behaviorSubtypeCode = #"_a-0000e528-bc07-8000-9bcf-011c48011c48_1023225",
                    #"SYSTEM_SYSRULES_richTextDisplayField"(
                      value: #"SYSTEM_SYSRULES_richTextItem_v1"(
                        text: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
                          i18nData: ri!i18nData,
                          bundleKey: "AS.CO.AllBundles.ins_NoPrecedentsForQuestionnaireTask"
                        ),
                        style: "EMPHASIS",
                        color: "SECONDARY",
                        size: "SMALL"
                      )
                    ),
                    a!localVariables(
                      local!precTaskOptions: #"_a-0000e40a-de32-8000-9ba8-011c48011c48_271202"(
                        cdt: ri!selectedTemplateTasks.taskRef,
                        field: "taskRefId",
                        value: fv!item.taskRef.taskRefId
                      ),
                      {
                        #"_a-0000e528-bc07-8000-9bcf-011c48011c48_1032065"(
                          placeholderLabel: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
                            i18nData: ri!i18nData,
                            bundleKey: "AS.CO.AllBundles.lbl_Precedents"
                          ),
                          choiceLabels: local!precTaskOptions.taskName,
                          choiceValues: local!precTaskOptions.taskRefId,
                          /*value: a!flatten(fv!item.templateTaskPrecedents).taskRefId_precedent,*/
                          /*saveInto: {*/
                          /*a!save(*/
                          /*ri!selectedTemplateTasks[local!trueIndex].templateTaskPrecedents,*/
                          /*a!forEach(*/
                          /*items: save!value,*/
                          /*expression: 'type!{urn:com:appian:types:AS:IO}AS_IO_R_TemplateTask_Precedent'(taskRefId_precedent: fv!item)*/
                          /*)*/
                          /*)*/
                          /*}*/
                          
                        )
                      }
                    )
                  ),
                  /*default assignee*/
                  #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74426"(
                    label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
                      i18nData: ri!i18nData,
                      bundleKey: "AS.CO.AllBundles.lbl_DefaultGroupAssignee"
                    ),
                    required: true,
                    maxSelections: 1,
                    suggestFunction: #"_a-0000e586-af6f-8000-9bd2-011c48011c48_1359122"(
                      searchText: _,
                      customerGroupId: #"_a-0000e539-6d59-8000-9bd0-011c48011c48_1296974"
                    ),
                    selectedLabels: if(
                      #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536"(fv!item.groupAssignee),
                      null,
                      group(
                        tointeger(fv!item.groupAssignee),
                        "groupName"
                      )
                    ),
                    value: fv!item.groupAssignee,
                    saveInto: ri!selectedTemplateTasks[local!trueIndex].groupAssignee,
                    labelPosition: "ABOVE"
                  ),
                  /*sla days*/
                  #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_74362"(
                    required: true,
                    minSize: 0,
                    readOnly: false,
                    value: fv!item.slaDays,
                    saveInto: ri!selectedTemplateTasks[local!trueIndex].slaDays
                  ),
                  #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73562"(
                    value: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
                      i18nData: ri!i18nData,
                      bundleKey: "AS.CO.AllBundles.txt_Days"
                    ),
                    readOnly: true
                  ),
                  /*sla rule type */
                  #"_a-0000e528-bc07-8000-9bcf-011c48011c48_1027802"(
                    label: "",
                    choiceLabels: local!slaRuleTypes.label,
                    choiceValues: local!slaRuleTypes.code,
                    value: #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980"(
                      nullableValue: fv!item.slaRule,
                      replacementValue: #"_a-0000e460-9d93-8000-9bc1-011c48011c48_620337"
                    ),
                    saveInto: ri!selectedTemplateTasks[local!trueIndex].slaRule,
                    readOnly: false,
                    required: true,
                    noPlaceholderLabel: true
                  ),
                  /*Reorder*/
                  /* Note: setting order number is handled in the top level form on save based upon list order */
                  #"_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_948885"(
                    list: ri!selectedTemplateTasks,
                    index: local!trueIndex
                  ),
                  /*remove task*/
                  a!localVariables(
                    local!removeDisabled: fv!item.taskRef.taskBehaviorType.behaviorSubtypeCode = #"_a-0000e471-623a-8000-9bc3-011c48011c48_708464",
                    #"_a-0000e3e6-fb42-8000-9ba5-011c48011c48_180322"(
                      caption: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
                        i18nData: ri!i18nData,
                        bundleKey: if(
                          local!removeDisabled,
                          "AS.CO.AllBundles.ins_RemoveDisabled",
                          "AS.CO.AllBundles.ins_RemoveTask"
                        )
                      ),
                      /*remove task as precedent for other tasks, then remove task from template*/
                      saveInto: #"_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_143273"(
                        selectedTemplateTasks: ri!selectedTemplateTasks
                      ),
                      removalType: #"_a-0000e3e6-fb42-8000-9ba5-011c48011c48_186249",
                      disable: local!removeDisabled
                    )
                  )
                }
              )
            )
          }
        )
      }
    ),
    #"_a-0000e539-6d59-8000-9bd0-011c48011c48_1207543"(
      align: "RIGHT",
      pagingInfo: local!pagingInfo,
      totalCount: #"_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_880586"(ri!selectedTemplateTasks)
    )
  }
)</definition>
        <namedTypedValue>
            <name>i18nData</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>selectedTemplateTasks</name>
            <type>
                <name>AS_IO_R_TemplateTask?list</name>
                <namespace>urn:com:appian:types:AS:IO</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
        <isCustom>false</isCustom>
    </interface>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <typedValue>
        <type>
            <name>RuleTestConfig?list</name>
            <namespace>http://www.appian.com/ae/types/2009</namespace>
        </type>
        <value>
            <el>
                <a:name/>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">#"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81834"(triggerRefresh: now())</a:value>
                    <a:nameRef>i18nData</a:nameRef>
                    <a:id>1</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">#"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_75720"(
  cdt: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_155202"(
  excludeNestedCdts:  false,
  returnType:  #"_a-0000e415-3035-8000-9bb2-011c48011c48_290157"
 ).templateTasks,
 field: "orderNumber",
ascending: true)</a:value>
                    <a:nameRef>selectedTemplateTasks</a:nameRef>
                    <a:id>2</a:id>
                </a:ruleInputTestConfigs>
                <a:assertions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
            </el>
        </value>
    </typedValue>
    <history>
        <historyInfo versionUuid="_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_139862"/>
        <historyInfo versionUuid="_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_139982"/>
        <historyInfo versionUuid="_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_152046"/>
        <historyInfo versionUuid="_a-0000e3e6-fb42-8000-9ba5-011c48011c48_186682"/>
        <historyInfo versionUuid="_a-0000e40a-de32-8000-9ba8-011c48011c48_271420"/>
        <historyInfo versionUuid="_a-0000e41a-e649-8000-9ba5-011c48011c48_17560"/>
        <historyInfo versionUuid="_a-0000e430-f270-8000-9bbc-011c48011c48_363565"/>
        <historyInfo versionUuid="_a-0000e447-91f4-8000-9bc0-011c48011c48_577268"/>
        <historyInfo versionUuid="_a-0000e460-9d93-8000-9bc1-011c48011c48_616093"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_687787"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_693140"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_698982"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_701164"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_708829"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_729349"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_748366"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_772193"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_789104"/>
        <historyInfo versionUuid="_a-0000e528-bc07-8000-9bcf-011c48011c48_1032844"/>
        <historyInfo versionUuid="_a-0000e539-6d59-8000-9bd0-011c48011c48_1142329"/>
        <historyInfo versionUuid="_a-0000e539-6d59-8000-9bd0-011c48011c48_1175225"/>
        <historyInfo versionUuid="_a-0000e586-af6f-8000-9bd2-011c48011c48_1359702"/>
        <historyInfo versionUuid="_a-0000e62c-7375-8000-9bec-011c48011c48_1867015"/>
        <historyInfo versionUuid="_a-0000e673-a4a7-8000-9bef-011c48011c48_1978526"/>
        <historyInfo versionUuid="_a-0000e673-a4a7-8000-9bef-011c48011c48_2000971"/>
        <historyInfo versionUuid="_a-0000e69f-3688-8000-9bf2-011c48011c48_2087967"/>
        <historyInfo versionUuid="_a-0000e69f-3688-8000-9bf2-011c48011c48_2150664"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2713469"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2730142"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2731296"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2734157"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2745043"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2746395"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2750727"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2762114"/>
        <historyInfo versionUuid="_a-0000e7fa-f829-8000-9c17-011c48011c48_3348857"/>
        <historyInfo versionUuid="_a-0000e81d-5ddb-8000-9c1b-011c48011c48_3543626"/>
    </history>
</contentHaul>
