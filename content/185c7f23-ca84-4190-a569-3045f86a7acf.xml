<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000e7e5-dad4-8000-9c14-011c48011c48_3280093</versionUuid>
    <interface>
        <name>AS_CO_HCL_UpdateHeaderContentLayout</name>
        <uuid>185c7f23-ca84-4190-a569-3045f86a7acf</uuid>
        <description></description>
        <parentUuid>_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73105</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>if(
  #"_a-0000e3ff-a5bc-8000-9ba8-011c48011c48_39082"(ri!showWhen),
  a!localVariables(
    local!isHeaderContentLayout: a!defaultValue(
      value: #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433"(
        cdt: ri!baseHeaderContentLayout,
        field: "@attributes.@anyAttribute.isHeaderContentLayout",
        indexDefault: false
      ),
      default: false
    ),
    if(
      not(local!isHeaderContentLayout),
      error(
        "The baseHeaderContentLayout parameter must be defined as an instance of a!headerContentLayout."
      ),
      a!localVariables(
        local!allBaseHclComponents: a!refreshVariable(
          value: ri!baseHeaderContentLayout.contents,
          refreshAlways: true
        ),
        local!isComponentInContentsWithNulls: apply(
          #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433"(
            cdt: _,
            field: "@attributes.@anyAttribute.inHCLContents",
            indexDefault: false
          ),
          local!allBaseHclComponents
        ),
        local!isComponentInContentsEmptyHeaderWithNulls: apply(
          #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_76433"(
            cdt: _,
            field: "@attributes.@anyAttribute.inHCLContentsWithoutHeader",
            indexDefault: false
          ),
          local!allBaseHclComponents
        ),
        local!isComponentInContents: apply(
          or(_, _),
          local!isComponentInContentsWithNulls,
          local!isComponentInContentsEmptyHeaderWithNulls
        ),
        local!baseHeaderComponents: index(
          local!allBaseHclComponents,
          where(not(local!isComponentInContents)),
          {}
        ),
        local!updatedHeaderComponents: reject(
          #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624"(
            value1: #"_a-0000e6ca-7e19-8000-9bfb-011c48011c48_2248081",
            value2: _
          ),
          insert(
            ri!headerLayout,
            local!baseHeaderComponents,
            enumerate(count(local!baseHeaderComponents)) + wherecontains(
              cast(
                typeof({}),
                #"_a-0000e6ca-7e19-8000-9bfb-011c48011c48_2248081"
              ),
              ri!headerLayout
            )
          )
        ),
        local!baseContentComponents: index(
          local!allBaseHclComponents,
          index(
            where(local!isComponentInContents),
            /* There is only one item in "contents", and its contents are the original HCL contents parameter */
            1,
            {}
          ),
          {}
        ).contents,
        local!updatedContentComponents: reject(
          #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73624"(
            value1: #"_a-0000e6ca-7e19-8000-9bfb-011c48011c48_2248106",
            value2: _
          ),
          insert(
            ri!contentLayout,
            local!baseContentComponents,
            enumerate(count(local!baseContentComponents)) + wherecontains(
              cast(
                typeof({}),
                #"_a-0000e6ca-7e19-8000-9bfb-011c48011c48_2248106"
              ),
              ri!headerLayout
            )
          )
        ),
        #"SYSTEM_SYSRULES_headerContentLayout"(
          header: local!updatedHeaderComponents,
          contents: local!updatedContentComponents,
          backgroundColor: "TRANSPARENT"
        )
      )
    )
  ),
  {}
)</definition>
        <namedTypedValue>
            <name>baseHeaderContentLayout</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>headerLayout</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>showWhen</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>contentLayout</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
        <isCustom>false</isCustom>
    </interface>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <typedValue>
        <type>
            <name>RuleTestConfig?list</name>
            <namespace>http://www.appian.com/ae/types/2009</namespace>
        </type>
        <value>
            <el>
                <a:name/>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">#"SYSTEM_SYSRULES_headerContentLayout"(
  header: {
    #"SYSTEM_SYSRULES_cardLayout"(
    contents: #"SYSTEM_SYSRULES_richTextDisplayField"(
    value: #"SYSTEM_SYSRULES_richTextItem_v1"(
      text: "Base Header Content 1"
    )
    )),#"SYSTEM_SYSRULES_cardLayout"(
      contents: #"SYSTEM_SYSRULES_richTextDisplayField"(
        value: #"SYSTEM_SYSRULES_richTextItem_v1"(
          text: "Base Header Content 2"
        )
      ))
   },
  contents: {
    #"SYSTEM_SYSRULES_sectionLayout_v1"(
    label: "Base contents section 1"
  ),
  #"SYSTEM_SYSRULES_sectionLayout_v1"(
    label: "Base contents section 2"
  )
  }
)</a:value>
                    <a:nameRef>baseHeaderContentLayout</a:nameRef>
                    <a:id>1</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">{#"SYSTEM_SYSRULES_cardLayout"(
  contents: #"SYSTEM_SYSRULES_richTextDisplayField"(
    value: #"SYSTEM_SYSRULES_richTextItem_v1"(
      text: "Header Content above base"
    )
  )),
  #"_a-0000e6ca-7e19-8000-9bfb-011c48011c48_2248081",
  #"SYSTEM_SYSRULES_cardLayout"(
    contents: #"SYSTEM_SYSRULES_richTextDisplayField"(
      value: #"SYSTEM_SYSRULES_richTextItem_v1"(
        text: "Header Content below base"
      )
    )) 
}</a:value>
                    <a:nameRef>headerLayout</a:nameRef>
                    <a:id>2</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="xsd:boolean">true</a:value>
                    <a:nameRef>showWhen</a:nameRef>
                    <a:id>3</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">{#"SYSTEM_SYSRULES_sectionLayout_v1"(
  label: "Content above base"
  ),
  #"_a-0000e6ca-7e19-8000-9bfb-011c48011c48_2248106",
  #"SYSTEM_SYSRULES_sectionLayout_v1"(
    label: "Content below base"
  ),
}</a:value>
                    <a:nameRef>contentLayout</a:nameRef>
                    <a:id>4</a:id>
                </a:ruleInputTestConfigs>
                <a:assertions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
            </el>
        </value>
    </typedValue>
    <history>
        <historyInfo versionUuid="_a-0000e6ca-7e19-8000-9bfb-011c48011c48_2353358"/>
        <historyInfo versionUuid="_a-0000e7e5-dad4-8000-9c14-011c48011c48_3280093"/>
    </history>
</contentHaul>
