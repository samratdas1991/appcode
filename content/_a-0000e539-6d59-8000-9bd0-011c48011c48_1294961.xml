<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000e70f-2824-8000-9c01-011c48011c48_2705823</versionUuid>
    <interface>
        <name>AS_FS_FM_updateCustomerProfileDetails</name>
        <uuid>_a-0000e539-6d59-8000-9bd0-011c48011c48_1294961</uuid>
        <description>Displays the basic information of the customer</description>
        <parentUuid>_a-0000e4b1-2fbc-8000-9bc6-011c48011c48_968428</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>a!localVariables(
  local!i18nData: #"_a-0000e50d-bf1d-8000-9bcd-011c48011c48_975720"(triggerRefresh: null),
  local!refData: #"_a-0000e50d-bf1d-8000-9bcd-011c48011c48_975294"(
    typeList: { #"_a-0000e50d-bf1d-8000-9bcd-011c48011c48_979240" },
    i18nData: local!i18nData
  ),
  local!countries: #"_a-0000e50d-bf1d-8000-9bcd-011c48011c48_976936"(
    i18nData: local!i18nData,
    returnType: #"_a-0000e415-3035-8000-9bb2-011c48011c48_290163"
  ),
  local!originalDomicile: a!refreshVariable(
    value: ri!customer.domicile,
    refreshOnReferencedVarChange: false
  ),
  local!customerOpenServiceRequests: #"_a-0000e62c-7375-8000-9bec-011c48011c48_1775427"(
    customerId: ri!customer.customerId,
    isActive: true,
    excludeNestedCdts: true,
    /* Sort so that the SRQs that are expected to be completed last are first in the list,
    then we can easily index to the first position for the correct pending value in below rules */
    sort: #"SYSTEM_SYSRULES_sortInfo"(
      field: "targetCompletionDate",
      ascending: false
    )
  ),
  #"SYSTEM_SYSRULES_formLayout_v1"(
    label: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
      i18nData: local!i18nData,
      bundleKey: "AS.FS.AllBundles.lbl_UpdateCustomerDetails"
    ),
    contents: {
      #"d9cf1571-4531-418c-b5ba-8aa6330febeb"(
        customer: ri!customer,
        i18nData: local!i18nData,
        refData: local!refData,
        readOnly: false,
        showHeader: false,
        countries: local!countries,
        customerOpenServiceRequests: local!customerOpenServiceRequests
      )
    },
    buttons: #"_a-0000e3d1-f4dc-8000-9ba4-011c48011c48_134344"(
      confirmLabel: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
        i18nData: local!i18nData,
        bundleKey: "AS.FS.AllBundles.lbl_UpdateCustomerDetails"
      ),
      cancelLabel: #"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_81818"(
        i18nData: local!i18nData,
        bundleKey: "AS.FS.AllBundles.btn_Cancel"
      ),
      confirmSaveInto: {
        a!save(
          ri!userAction,
          #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73305"
        ),
        a!save(
          ri!isDomicileUpdated,
          ri!customer.domicile.countryCode &lt;&gt; local!originalDomicile.countryCode
        ),
        if(
          ri!customer.domicile.countryCode = #"_a-0000e50d-bf1d-8000-9bcd-011c48011c48_981494",
          {},
          {
            a!save(ri!customer.taxId, null),
            a!save(ri!customer.isERISA, 0)
          }
        )
      },
      cancelSaveInto: {
        a!save(
          ri!userAction,
          #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73173"
        )
      },
      confirmSubmit: true,
      cancelSubmit: true
    )
  )
)</definition>
        <namedTypedValue>
            <name>customer</name>
            <type>
                <name>AS_FS_Customer</name>
                <namespace>urn:com:appian:types:AS:FS</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>userAction</name>
            <type>
                <name>string</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
            <value/>
        </namedTypedValue>
        <namedTypedValue>
            <name>isDomicileUpdated</name>
            <type>
                <name>boolean</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
        <isCustom>false</isCustom>
    </interface>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <typedValue>
        <type>
            <name>RuleTestConfig?list</name>
            <namespace>http://www.appian.com/ae/types/2009</namespace>
        </type>
        <value>
            <el>
                <a:name/>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">#"_a-0000e2cd-bc96-8000-9ba2-011c48011c48_33079"(
  returnType: #"_a-0000e415-3035-8000-9bb2-011c48011c48_290157"
)</a:value>
                    <a:nameRef>customer</a:nameRef>
                    <a:id>1</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="xsd:string"/>
                    <a:nameRef>userAction</a:nameRef>
                    <a:id>2</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" xsi:type="xsd:boolean"/>
                    <a:nameRef>isDomicileUpdated</a:nameRef>
                    <a:id>4</a:id>
                </a:ruleInputTestConfigs>
                <a:assertions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
            </el>
        </value>
    </typedValue>
    <history>
        <historyInfo versionUuid="_a-0000e539-6d59-8000-9bd0-011c48011c48_1296727"/>
        <historyInfo versionUuid="_a-0000e586-af6f-8000-9bd2-011c48011c48_1376805"/>
        <historyInfo versionUuid="_a-0000e5a0-53e9-8000-9bd8-011c48011c48_1436959"/>
        <historyInfo versionUuid="_a-0000e5a0-53e9-8000-9bd8-011c48011c48_1441384"/>
        <historyInfo versionUuid="_a-0000e5a0-53e9-8000-9bd8-011c48011c48_1460065"/>
        <historyInfo versionUuid="_a-0000e5fd-0ed3-8000-9be6-011c48011c48_1567560"/>
        <historyInfo versionUuid="_a-0000e5fd-0ed3-8000-9be6-011c48011c48_1573077"/>
        <historyInfo versionUuid="_a-0000e607-97fd-8000-9be9-011c48011c48_1619648"/>
        <historyInfo versionUuid="_a-0000e607-97fd-8000-9be9-011c48011c48_1630930"/>
        <historyInfo versionUuid="_a-0000e607-97fd-8000-9be9-011c48011c48_1631501"/>
        <historyInfo versionUuid="_a-0000e607-97fd-8000-9be9-011c48011c48_1631644"/>
        <historyInfo versionUuid="_a-0000e62c-7375-8000-9bec-011c48011c48_1823304"/>
        <historyInfo versionUuid="_a-0000e62c-7375-8000-9bec-011c48011c48_1847615"/>
        <historyInfo versionUuid="_a-0000e673-a4a7-8000-9bef-011c48011c48_2034121"/>
        <historyInfo versionUuid="_a-0000e69f-3688-8000-9bf2-011c48011c48_2116715"/>
        <historyInfo versionUuid="_a-0000e69f-3688-8000-9bf2-011c48011c48_2151890"/>
        <historyInfo versionUuid="_a-0000e6c5-6536-8000-9bf8-011c48011c48_2205528"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2511784"/>
        <historyInfo versionUuid="_a-0000e70f-2824-8000-9c01-011c48011c48_2705823"/>
    </history>
</contentHaul>
