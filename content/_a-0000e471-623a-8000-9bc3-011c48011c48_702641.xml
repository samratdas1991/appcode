<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000e673-a4a7-8000-9bef-011c48011c48_2016557</versionUuid>
    <rule>
        <name>AS_CO_I18N_UT_displayLabel_RichText</name>
        <uuid>_a-0000e471-623a-8000-9bc3-011c48011c48_702641</uuid>
        <description>Displays a label by the `bundleKey` from passed in bundle data plus arguments with rich text configurations.  Arguments can be passed as richTextItems with applied styling, or plain text if no styling need be applied to that argument.</description>
        <parentUuid>_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73105</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>with(
  local!bundleKeyParse: #"_a-0000e438-fdf5-8000-9ba8-011c48011c48_19869"(
    bundleKey: ri!bundleKey
  ),
  local!label: ri!i18nData[local!bundleKeyParse.bundleName][local!bundleKeyParse.labelKey],
  local!updatedLabel: #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73980"(
    nullableValue: local!label,
    replacementValue: ri!bundleKey
  ),
  if(
    #"_a-0000e2ad-62e7-8000-9ba2-011c48011c48_73536"(
      ri!richTextArguments
    ),
    local!updatedLabel,
    reduce(
      #"_a-0000e471-623a-8000-9bc3-011c48011c48_702648"(
        richTextItems: _,
        index: _,
        richTextArguments: ri!richTextArguments
      ),
      {
        local!updatedLabel
      },
      enumerate(
        count(
          ri!richTextArguments
        )
      ) + 1
    )
  )
)</definition>
        <namedTypedValue>
            <name>i18nData</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <namedTypedValue>
            <name>bundleKey</name>
            <type>
                <name>string</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
            <value/>
        </namedTypedValue>
        <namedTypedValue>
            <name>richTextArguments</name>
            <type>
                <name>Variant</name>
                <namespace>http://www.appian.com/ae/types/2009</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>legacy</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
    </rule>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <typedValue>
        <type>
            <name>RuleTestConfig?list</name>
            <namespace>http://www.appian.com/ae/types/2009</namespace>
        </type>
        <value>
            <el>
                <a:name>3 rich text arguments, not i18n</a:name>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
                    <a:nameRef>i18nData</a:nameRef>
                    <a:id>1</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">"[%1] has left a comment on [%2] that reads: [%3]"</a:value>
                    <a:nameRef>bundleKey</a:nameRef>
                    <a:id>2</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">{
  #"SYSTEM_SYSRULES_richTextItem_v1"(
    text: "ARG1",
    style: "STRONG",
    color: "POSITIVE"
  ),
  #"SYSTEM_SYSRULES_richTextItem_v1"(
    text: "ARG2",
    style: "EMPHASIS",
    color: "NEGATIVE"
  ),
  #"SYSTEM_SYSRULES_richTextItem_v1"(
    text: "ARG3",
    style: "UNDERLINE",
    color: "SECONDARY"
  )
}</a:value>
                    <a:nameRef>richTextArguments</a:nameRef>
                    <a:id>3</a:id>
                </a:ruleInputTestConfigs>
                <a:assertions>
                    <a:expectedOutput xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
                    <a:resultAssertions>#"_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040"(
  /* Direct comparison with test!output does not work, likely because of component specific rendering attributes */
  value1: #"_a-0000e471-623a-8000-9bc3-011c48011c48_702641"(
    i18nData: null,
    bundleKey: "[%1] has left a comment on [%2] that reads: [%3]",
    richTextArguments: {
      #"SYSTEM_SYSRULES_richTextItem_v1"(
        text: "ARG1",
        style: "STRONG",
        color: "POSITIVE"
      ),
      #"SYSTEM_SYSRULES_richTextItem_v1"(
        text: "ARG2",
        style: "EMPHASIS",
        color: "NEGATIVE"
      ),
      #"SYSTEM_SYSRULES_richTextItem_v1"(
        text: "ARG3",
        style: "UNDERLINE",
        color: "SECONDARY"
      )
    }
  ),
  value2: {
    "",
    #"SYSTEM_SYSRULES_richTextItem_v1"(
      text: "ARG1",
      style: "STRONG",
      color: "POSITIVE"
    ),
    " has left a comment on ",
    #"SYSTEM_SYSRULES_richTextItem_v1"(
      text: "ARG2",
      style: "EMPHASIS",
      color: "NEGATIVE"
    ),
    " that reads: ",
    #"SYSTEM_SYSRULES_richTextItem_v1"(
      text: "ARG3",
      style: "UNDERLINE",
      color: "SECONDARY"
    ),
    ""
  }
)</a:resultAssertions>
                </a:assertions>
            </el>
            <el>
                <a:name>3 rich text arguments</a:name>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">#"_a-0000e607-97fd-8000-9be9-011c48011c48_1606284"(triggerRefresh: null)</a:value>
                    <a:nameRef>i18nData</a:nameRef>
                    <a:id>1</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">"AS.CO.CommonObjects.lbl_PrefixByUser"</a:value>
                    <a:nameRef>bundleKey</a:nameRef>
                    <a:id>2</a:id>
                </a:ruleInputTestConfigs>
                <a:ruleInputTestConfigs>
                    <a:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="a:Expression">{
  #"SYSTEM_SYSRULES_richTextItem_v1"(
    text: "ARG1",
    style: "STRONG",
    color: "POSITIVE"
  ),
  #"SYSTEM_SYSRULES_richTextItem_v1"(
    text: "ARG2",
    style: "EMPHASIS",
    color: "NEGATIVE"
  )
}</a:value>
                    <a:nameRef>richTextArguments</a:nameRef>
                    <a:id>3</a:id>
                </a:ruleInputTestConfigs>
                <a:assertions>
                    <a:expectedOutput xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
                    <a:resultAssertions>#"_a-0000e3e6-fb42-8000-9ba5-011c48011c48_243040"(
  /* Direct comparison with test!output does not work, likely because of component specific rendering attributes */
  value1: #"_a-0000e471-623a-8000-9bc3-011c48011c48_702641"(
    i18nData: #"_a-0000e607-97fd-8000-9be9-011c48011c48_1606284"(triggerRefresh: null),
    bundleKey: "AS.CO.CommonObjects.lbl_PrefixByUser",
    richTextArguments: {
      #"SYSTEM_SYSRULES_richTextItem_v1"(
        text: "ARG1",
        style: "STRONG",
        color: "POSITIVE"
      ),
      #"SYSTEM_SYSRULES_richTextItem_v1"(
        text: "ARG2",
        style: "EMPHASIS",
        color: "NEGATIVE"
      )
    }
  ),
  value2: {
    "",
    #"SYSTEM_SYSRULES_richTextItem_v1"(
      text: "ARG1",
      style: "STRONG",
      color: "POSITIVE"
    ),
    " by ",
    #"SYSTEM_SYSRULES_richTextItem_v1"(
      text: "ARG2",
      style: "EMPHASIS",
      color: "NEGATIVE"
    ),
    ""
  }
)</a:resultAssertions>
                </a:assertions>
            </el>
        </value>
    </typedValue>
    <history>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_703351"/>
        <historyInfo versionUuid="_a-0000e471-623a-8000-9bc3-011c48011c48_703413"/>
        <historyInfo versionUuid="_a-0000e447-933d-8000-9baa-011c48011c48_110480"/>
        <historyInfo versionUuid="_a-0000e607-97fd-8000-9be9-011c48011c48_1653452"/>
        <historyInfo versionUuid="_a-0000e62c-7375-8000-9bec-011c48011c48_1848981"/>
        <historyInfo versionUuid="_a-0000e62c-7375-8000-9bec-011c48011c48_1888283"/>
        <historyInfo versionUuid="_a-0000e62c-7375-8000-9bec-011c48011c48_1889111"/>
        <historyInfo versionUuid="_a-0000e673-a4a7-8000-9bef-011c48011c48_2016557"/>
    </history>
</contentHaul>
